define(["core/Logger","core/CoreAPI"],function(Logger,API){return API.Class.create({name:null,Model:null,View:null,Controller:null,Collection:null,construct:function(name,initObj){this.name=name,this.Model=this.decorateClass(initObj.Model),this.View=this.decorateClass(initObj.View),this.Controller=this.decorateClass(initObj.Controller),this.Collection=this.decorateClass(initObj.Collection)},create:function(classType,instanceName){var allowedTypes={Model:null,View:null,Controller:null,Collection:null};if(!classType in allowedTypes)throw new Error("[Component.create] "+classType+" is not a valid class type");if(!this[classType])throw new Error("[Component.create] The "+this.name+" Component does not support the "+classType+"class");return this.decorateInstance(new this[classType],classType,instanceName)},decorateClass:function(classObj){if(classObj=classObj||null){var self=this;classObj.prototype.component=self,classObj.prototype.getComponent=function(){return self},classObj.prototype.getComponentName=function(){return this.__meta.componentName},classObj.prototype.getClassName=function(){return this.__meta.className},classObj.prototype.getInstanceName=function(){return this.__meta.instanceName},classObj.prototype.getInstanceID=function(){return this.__meta.instanceID},classObj.prototype.getOriginator=function(){return this.__meta.originator}}return classObj},decorateInstance:function(instance,classType,instanceName){var className=this.name+classType;return instance.__meta={componentName:this.name,className:className,instanceName:instanceName,instanceID:className+":"+instanceName,originator:instanceName+": "+this.name+classType},instance.originator=instanceName+": "+className,instance}})});