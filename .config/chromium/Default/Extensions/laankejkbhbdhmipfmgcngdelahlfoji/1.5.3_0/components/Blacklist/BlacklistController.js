define(["core/Logger","core/CoreAPI","components/List/ListController"],function(Logger,API,ListController){return API.Class.extend(ListController,{addListeners:function(){this._parent.addListeners();var self=this;API.PubSub.listen("*.checkbox.toggle.STALKER_OPTION",function(){self.toggleStalkerOption()}),API.PubSub.listen("*.data.load.SUGGESTED_SITES",function(){self.loadSuggestedSitesList()})},toggleStalkerOption:function(){var isOutgoingLinksOptionActive=API.StayFocusd.isOutgoingLinksOptionActive();API.Settings.set({countdownForOutgoingLinks:!isOutgoingLinksOptionActive})},loadSuggestedSitesList:function(){var self=this;$.ajax({type:"GET",url:API.StayFocusd.getAPIURL()+"/SiteList/suggestions/black.json",data:null,success:function(response){var parsedResponse=JSON.parse(response);return 0===parsedResponse.count||void 0==parsedResponse.data?(alert(API.Chrome.Translation.get("errorLoadingSuggestedSites")),!1):void API.PubSub.publish(self.getClassName()+".data.loaded.SUGGESTED_SITES",parsedResponse)},error:function(){return alert(API.Chrome.Translation.get("errorLoadingSuggestedSites")),!1}})}})});