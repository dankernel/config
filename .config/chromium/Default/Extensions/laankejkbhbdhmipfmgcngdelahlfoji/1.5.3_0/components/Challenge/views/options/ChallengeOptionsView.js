define(["core/Logger","core/CoreAPI","core/vendor/jquery.min","core/vendor/Brightline.min","core/vendor/text!components/Challenge/views/options/options.tpl","components/Challenge/ChallengeView"],function(Logger,API,$,Brightline,optionsTpl,ChallengeView){return API.Class.extend(ChallengeView,{setJQuery:function(jQuery){$=jQuery||$},inject:function($container){this._parent.inject($container,this.render(optionsTpl))},render:function(tpl){tpl=tpl||"";var template=new Brightline(tpl);return this.model.isRequired()&&template.set("checked",'checked="checked"'),template.set("customChallenge",this.model.getText()),template.set("minChallengeTextLength",this.model.minLength),template.render()},bindUIHandlers:function(){var self=this,$customChallenge=$("#customChallenge");$("input[name=setCustomChallenge]").click(function(){self.model.setText($customChallenge.val())}),$("#resetCustomChallenge").click(function(){self.model.resetText(),$customChallenge.val(self.model.getText())}),$("#requireChallengeCheckbox").click(function(){self.setChallengeRequired($(this))})},setChallengeRequired:function(checkbox){if(checkbox.prop("checked")){var confirmed=confirm(API.Chrome.Translation.get("confirmRequireChallenge"));confirmed?this.model.setRequired(!0):checkbox.prop("checked",!1)}else this.model.setRequired(!1)}})});